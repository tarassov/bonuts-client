import{r as i,s as a}from"./vendor-DfgYjpZC.js";import{u as g,a as x,A as c,H as u,C as d,t as y,b as S,c as M,B,d as A,e as m,f as L,g as p,h as C,i as k,j as N,k as D,M as H}from"./index-Boyo-WtJ.js";import"./lodash-Cs3fEaAR.js";import"./i18next-DbwsuLPt.js";import"./tanstack-BSKQklyj.js";import"./reagraph-BfrTLMkA.js";const b=(e,t=!1)=>{const{editDonut:r}=g(),{translate:n}=x(),o=i.useMemo(()=>({columns:[{accessor:"name",cellType:d.CellString,enableSorting:!0,enableColumnFilter:!0,header:{headerType:u.StringHeader,value:n(y.name,{capitalize:!0})}},{accessor:"price",cellType:d.CellNumber,enableSorting:!0,enableColumnFilter:!0,header:{headerType:u.StringHeader,value:n(S.price,{capitalize:!0})}}],actions:{edit:{onClick:r,actionType:c.Edit}},headerActions:{...t?null:{create:{onClick:e,actionType:c.Create}}}}),[]),{tableConfig:s}=M(o);return{tableConfig:s}},E=({donuts:e,onCreateClick:t})=>{const{tableConfig:r}=b(t),{tableConfig:n}=b(k,!0),{translate:o}=x(),[s,h]=i.useState(0),T=(l,v)=>{h(v)},f=i.useMemo(()=>(e==null?void 0:e.filter(l=>l.active))||[],[e]),j=i.useMemo(()=>(e==null?void 0:e.filter(l=>!l.active))||[],[e]);return e?a.jsxs(B,{direction:"column",className:"height-100",children:[a.jsxs(A,{value:s,onChange:T,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"donuts tabs",children:[a.jsx(m,{label:o("Active donuts"),tabValue:0}),a.jsx(m,{label:o("Not active donuts"),tabValue:1})]}),a.jsxs(L,{className:"flex-grow scroll",children:[a.jsx(p,{value:s,index:0,children:a.jsx(C,{columns:r,data:f})}),a.jsx(p,{value:s,index:1,children:a.jsx(C,{columns:n,data:j})})]})]}):null},F=e=>{const{module:t,isLoading:r}=e;N(t,r)},_=()=>{const{objects:e,isLoading:t}=D(!0);F({module:H.StoreManager,isLoading:t});const{showCreateDonutModal:r}=g();return a.jsx(E,{donuts:e,onCreateClick:r})};export{_ as default};
